this.LP=this.LP||{},this.LP.quiz=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.LP.dataControls}()},function(e,t,n){"use strict";e.exports=function(e){var t,n={};return function e(t,n){var r;if(Array.isArray(n))for(r=0;r<n.length;r++)e(t,n[r]);else for(r in n)t[r]=(t[r]||[]).concat(n[r])}(n,e),(t=function(e){return function(t){return function(r){var o,u,i=n[r.type],c=t(r);if(i)for(o=0;o<i.length;o++)(u=i[o](r,e))&&e.dispatch(u);return c}}}).effects=n,t}},,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return jr})),n.d(t,"MyContext",(function(){return vr}));var r={};n.r(r),n.d(r,"setQuizData",(function(){return vn})),n.d(r,"setCurrentQuestion",(function(){return On})),n.d(r,"setCurrentPage",(function(){return wn})),n.d(r,"__requestBeforeStartQuiz",(function(){return Rn})),n.d(r,"__requestStartQuizSuccess",(function(){return jn})),n.d(r,"startQuiz",(function(){return _n})),n.d(r,"__requestSubmitQuiz",(function(){return Pn})),n.d(r,"__requestSubmitQuizSuccess",(function(){return Sn})),n.d(r,"submitQuiz",(function(){return En})),n.d(r,"updateUserQuestionAnswers",(function(){return qn})),n.d(r,"__requestShowHintSuccess",(function(){return kn})),n.d(r,"showHint",(function(){return Qn})),n.d(r,"__requestCheckAnswerSuccess",(function(){return zn})),n.d(r,"checkAnswer",(function(){return Tn})),n.d(r,"markQuestionRendered",(function(){return Dn})),n.d(r,"setQuizMode",(function(){return Cn})),n.d(r,"sendKey",(function(){return In}));var o={};n.r(o),n.d(o,"getQuestionOptions",(function(){return Mn})),n.d(o,"getItemStatus",(function(){return Un})),n.d(o,"getProp",(function(){return Ln})),n.d(o,"getQuizAttempts",(function(){return Fn})),n.d(o,"getQuizAnswered",(function(){return Hn})),n.d(o,"getQuestions",(function(){return Bn})),n.d(o,"getData",(function(){return Kn})),n.d(o,"getDefaultRestArgs",(function(){return Gn})),n.d(o,"getQuestionAnswered",(function(){return Jn})),n.d(o,"getCurrentQuestion",(function(){return Zn})),n.d(o,"getQuestion",(function(){return Wn})),n.d(o,"isCheckedAnswer",(function(){return $n})),n.d(o,"isCorrect",(function(){return Yn})),n.d(o,"getQuestionsSelectedAnswers",(function(){return Vn})),n.d(o,"getUserMark",(function(){return Xn}));var u=n(2),i=n(3),c=n(0);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}u.Component;function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(u,e);var t,n,r,o=v(u);function u(){return d(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props.content;return React.createElement("div",{className:"quiz-content",dangerouslySetInnerHTML:{__html:e}})}}])&&h(t.prototype,n),r&&h(t,r),u}(u.Component),j=Object(i.compose)([Object(c.withSelect)((function(e){return{content:(0,e("learnpress/quiz").getData)("content")}})),Object(c.withDispatch)((function(e){var t=e("learnpress/quiz");return{setQuizData:t.setQuizData,startQuiz:t.startQuiz}}))])(R),_=n(1);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=LP.Hook,D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(u,e);var t,n,r,o=k(u);function u(){return S(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props.metaFields;return e&&React.createElement(React.Fragment,null,React.createElement("ul",{className:"quiz-intro"},Object.values(e).map((function(e,t){var n=e.name||t;return React.createElement("li",{key:"quiz-intro-field-".concat(t),className:"quiz-intro-item quiz-intro-item__".concat(n)},React.createElement("label",{dangerouslySetInnerHTML:{__html:e.title}}),React.createElement("span",{dangerouslySetInnerHTML:{__html:e.content}}))}))))}}])&&E(t.prototype,n),r&&E(t,r),u}(u.Component),C=Object(i.compose)(Object(c.withSelect)((function(e){var t,n=e("learnpress/quiz").getData,r=LP.singleCourse;return{metaFields:T.applyFilters("quiz-meta-fields",{duration:{title:Object(_.__)("Duration","learnpress"),name:"duration",content:r.formatDuration(n("duration"))},passingGrade:{title:Object(_.__)("Passing grade","learnpress"),name:"passing-grade",content:n("passingGrade")},questionsCount:{title:Object(_.__)("Questions","learnpress"),name:"questions-count",content:(t=n("questionIds"),t?t.length:0)}})}})))(D);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(u,e);var t,n,r,o=M(u);function u(){var e;x(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(L(e=o.call.apply(o,[this].concat(n))),"checkAnswer",(function(){var t=e.props;(0,t.checkAnswer)(t.question.id)})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props.answered;return React.createElement("button",{className:"lp-button instant-check",onClick:this.checkAnswer,disabled:!e},Object(_._x)("Check answer","label of button check answer","learnpress"))}}])&&N(t.prototype,n),r&&N(t,r),u}(u.Component),K=Object(i.compose)(Object(c.withSelect)((function(e,t){var n=t.question.id;return{answered:(0,e("learnpress/quiz").getQuestionAnswered)(n)}})),Object(c.withDispatch)((function(e,t){t.id;var n=e("learnpress/quiz").checkAnswer;return{checkAnswer:function(e){n(e)}}})))(B);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(u,e);var t,n,r,o=$(u);function u(){var e;J(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ee(V(e=o.call.apply(o,[this].concat(n))),"showHint",(function(){var t=e.props,n=t.showHint,r=t.question;n(r.id,!r.showHint)})),e}return t=u,(n=[{key:"render",value:function(){return this.props.question.hint?React.createElement("button",{className:"btn-show-hint",onClick:this.showHint}):""}}])&&Z(t.prototype,n),r&&Z(t,r),u}(u.Component),ne=Object(i.compose)(Object(c.withDispatch)((function(e,t){t.id;var n=e("learnpress/quiz").showHint;return{showHint:function(e,t){n(e,t)}}})))(te);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?pe(e):t}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(u,e);var t,n,r,o=le(u);function u(){var e;ce(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ye(pe(e=o.call.apply(o,[this].concat(n))),"startQuiz",(function(t){t&&t.preventDefault();var n=e.props,r=n.startQuiz;if("completed"===n.status&&"no"===(0,Object(c.select)("learnpress/modal").confirm)("Are you sure you want to retry quiz?",e.startQuiz))return;r()})),ye(pe(e),"nav",(function(t){return function(n){var r=e.props,o=r.questionNav,u=r.currentPage,i=r.numPages,c=r.setCurrentPage;switch(t){case"prev":u=u>1?u-1:"infinity"===o?i:1;break;default:u=u<i?u+1:"infinity"===o?1:i}c(u)}})),ye(pe(e),"moveTo",(function(t){return function(n){n.preventDefault();var r=e.props,o=r.numPages,u=r.setCurrentPage;t<1||t>o||u(t)}})),ye(pe(e),"isLast",(function(){var t=e.props;return t.currentPage===t.numPages})),ye(pe(e),"isFirst",(function(){return 1===e.props.currentPage})),ye(pe(e),"submit",(function(){(0,e.props.submitQuiz)()})),ye(pe(e),"setQuizMode",(function(t){return function(){(0,e.props.setQuizMode)(t)}})),ye(pe(e),"isReviewing",(function(){return e.props.isReviewing})),e}return t=u,(n=[{key:"pageNumbers",value:function(e){var t=this,n=this.props,r=n.numPages,o=n.currentPage;if(r<2)return"";(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({numPages:r,currentPage:o,midSize:1,endSize:1,prevNext:!0},e||{})).endSize<1&&(e.endSize=1),e.midSize<0&&(e.midSize=1);var u=oe(Array(r).keys()),i=!1;return React.createElement("div",{className:"nav-links"},e.prevNext&&!this.isFirst()&&React.createElement("a",{className:"page-numbers prev","data-type":"question-navx",onClick:this.nav("prev")},Object(_.__)("","learnpress")),u.map((function(n){return(n+=1)===e.currentPage?(i=!0,React.createElement("span",{key:"page-number-".concat(n),className:"page-numbers current"},n)):n<=e.endSize||e.currentPage&&n>=e.currentPage-e.midSize&&n<=e.currentPage+e.midSize||n>e.numPages-e.endSize?(i=!0,React.createElement("a",{key:"page-number-".concat(n),className:"page-numbers",onClick:t.moveTo(n)},n)):i?(i=!1,React.createElement("span",{key:"page-number-".concat(n),className:"page-numbers dots"},"â€¦")):void 0})),e.prevNext&&!this.isLast()&&React.createElement("a",{className:"page-numbers next","data-type":"question-navx",onClick:this.nav("next")},Object(_.__)("","learnpress")))}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.questionNav,r=e.isReviewing,o=e.showReview,u=e.numPages,i=e.question,c=e.questionsPerPage,a=e.canRetry,s=["quiz-buttons align-center"];return"questionNav"===n&&s.push("infinity"),this.isFirst()&&s.push("is-first"),this.isLast()&&s.push("is-last"),React.createElement("div",{className:s.join(" ")},React.createElement("div",{className:"button-left"+("started"===t?" fixed":"")},-1!==["","completed","viewed"].indexOf(t)&&!r&&a&&React.createElement("button",{className:"lp-button start",onClick:this.startQuiz},"completed"===t?Object(_._x)("Retry","label button retry quiz","learnpress"):Object(_._x)("Start","label button start quiz","learnpress")),("started"===t||r)&&u>1&&React.createElement(React.Fragment,null,React.createElement("div",{className:"questions-pagination"},this.pageNumbers()))),React.createElement("div",{className:"button-right"},"started"===t&&React.createElement(React.Fragment,null,1===c&&[React.createElement(de,{key:"button-hint",type:"hint",Button:ne,question:i}),React.createElement(de,{key:"button-check",type:"check",Button:K,question:i})],("infinity"===n||this.isLast())&&!r&&React.createElement("button",{className:"lp-button submit-quiz",onClick:this.submit},Object(_.__)("Submit","learnpress"))),r&&o&&React.createElement("button",{className:"lp-button back-quiz",onClick:this.setQuizMode("")},Object(_.__)("Result","learnpress")),"completed"===t&&o&&!r&&React.createElement("button",{className:"lp-button review-quiz",onClick:this.setQuizMode("reviewing")},Object(_.__)("Review","learnpress"))))}}])&&ae(t.prototype,n),r&&ae(t,r),u}(u.Component),de=Object(i.compose)(Object(c.withSelect)((function(e){var t=e("learnpress/quiz").getData;return{status:t("status"),showCheck:t("instantCheck"),checkedQuestions:t("checkedQuestions"),hintedQuestions:t("hintedQuestions"),questionsPerPage:t("questionsPerPage")}})))((function(e){var t=e.showCheck,n=e.checkedQuestions,r=e.hintedQuestions,o=e.question,u=e.status,i=e.type,c=e.Button;if("started"!==u)return!1;var a=React.createElement(c,{question:o});switch(i){case"hint":return r?!!o.hasHint&&(-1===r.indexOf(o.id)&&a):a;case"check":return!!t&&(n?-1===n.indexOf(o.id)&&a:a)}})),he=Object(i.compose)([Object(c.withSelect)((function(e){var t=e("learnpress/quiz"),n=t.getData,r=t.getCurrentQuestion,o={id:n("id"),status:n("status"),questionIds:n("questionIds"),questionNav:n("questionNav"),isReviewing:n("reviewQuestions")&&"reviewing"===n("mode"),showReview:n("reviewQuestions"),showCheck:n("instantCheck"),checkedQuestions:n("checkedQuestions"),hintedQuestions:n("hintedQuestions"),numPages:n("numPages"),pages:n("pages"),currentPage:n("currentPage"),questionsPerPage:n("questionsPerPage"),pageNumbers:n("pageNumbers"),keyPressed:n("keyPressed"),canRetry:(n("attempts")||[]).length<n("attemptsCount")};return 1===o.questionsPerPage&&(o.question=r("object")),o})),Object(c.withDispatch)((function(e,t){t.id;var n=e("learnpress/quiz"),r=n.startQuiz,o=n.setCurrentQuestion,u=n.submitQuiz,i=n.setQuizMode,c=n.showHint,a=n.checkAnswer;return{startQuiz:r,setCurrentQuestion:o,setQuizMode:i,setCurrentPage:n.setCurrentPage,submitQuiz:function(e){u(e)},showHint:function(e){c(e)},checkAnswer:function(e){a(e)}}}))])(be),ge=function(e){var t=e.question,n={"instant-check":function(){return React.createElement(de,{type:"check",Button:K,question:t})},hint:function(){return React.createElement(de,{type:"hint",Button:ne,question:t})}};return React.createElement(React.Fragment,null,LP.config.questionFooterButtons().map((function(e){return React.createElement(React.Fragment,{key:"button-".concat(e)},n[e]&&n[e]())})))};function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qe=window.jQuery,ze=lodash,Te=(ze.uniqueId,ze.isArray),De=(ze.isNumber,ze.bind,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(u,e);var t,n,r,o=Pe(u);function u(){var e;return Re(this,u),ke(Ee(e=o.apply(this,arguments)),"setRef",(function(t){e.$wrap=Qe(t)})),ke(Ee(e),"parseOptions",(function(e){return e&&(e=Te(e)?e:JSON.parse(CryptoJS.AES.decrypt(e.data,e.key,{format:CryptoJSAesJson}).toString(CryptoJS.enc.Utf8)),e=Te(e)?e:JSON.parse(e)),e||[]})),ke(Ee(e),"getWrapperClass",(function(){var t=e.props,n=t.question,r=(t.answered,["question","question-"+n.type]),o=e.parseOptions(n.options);return o.length&&void 0!==o[0].isTrue&&r.push("question-answered"),r})),ke(Ee(e),"getEditLink",(function(){var t=e.props,n=t.question,r=t.editPermalink;return r?r.replace(/[0-9]+/,n.id):""})),ke(Ee(e),"editPermalink",(function(e){return Object(_.sprintf)('<a href="%s">%s</a>',e,Object(_.__)("Edit","learnpress"))})),e.state={time:null,showHint:!1},e.$wrap=null,e}return t=u,(n=[{key:"componentDidMount",value:function(e){var t=this.props,n=t.question,r=t.isCurrent,o=t.markQuestionRendered;return r&&o(n.id),this.state.time||this.setState({time:new Date}),e}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,r=t.isShow,o=t.isShowIndex,u=(t.isShowHint,t.status),i=LP.questionTypes.default,c=this.getEditLink();c&&jQuery("#wp-admin-bar-edit-lp_question").find(".ab-item").attr("href",c);var a={index:function(){return o?React.createElement("span",{className:"question-index"},o,"."):""},title:function(){return n.title},hint:function(){return React.createElement(ne,{question:n})},"edit-permalink":function(){return c&&React.createElement("span",{dangerouslySetInnerHTML:{__html:e.editPermalink(c)},className:"edit-link"})}},s={title:function(){return React.createElement("h4",{className:"question-title"},LP.config.questionTitleParts().map((function(e){return React.createElement(React.Fragment,{key:"title-part-".concat(e)},a[e]&&a[e]())})))},content:function(){return React.createElement("div",{className:"question-content",dangerouslySetInnerHTML:{__html:n.content}})},"answer-options":function(){return e.$wrap&&React.createElement(i,we(we({},e.props),{},{$wrap:e.$wrap}))},explanation:function(){return n.explanation&&React.createElement(React.Fragment,null,React.createElement("div",{className:"question-explanation-content"},React.createElement("strong",{className:"explanation-title"},Object(_.__)("Explanation:","learnpress")),React.createElement("div",{dangerouslySetInnerHTML:{__html:n.explanation}})))},hint:function(){return n.hint&&!n.explanation&&n.showHint&&React.createElement(React.Fragment,null,React.createElement("div",{className:"question-hint-content"},React.createElement("strong",{className:"hint-title"},Object(_.__)("Hint:","learnpress")),React.createElement("div",{dangerouslySetInnerHTML:{__html:n.hint}})))},buttons:function(){return"started"===u&&React.createElement(ge,{question:n})}},l=LP.config.questionBlocks();return React.createElement(React.Fragment,null,React.createElement("div",{className:this.getWrapperClass().join(" "),style:{display:r?"":"none"},"data-id":n.id,ref:this.setRef},l.map((function(e){return React.createElement(React.Fragment,{key:"block-".concat(e)},s[e]?s[e]():"")}))))}}])&&je(t.prototype,n),r&&je(t,r),u}(u.Component)),Ce=Object(i.compose)([Object(c.withSelect)((function(e,t){var n=t.question.id,r=e("learnpress/quiz"),o=r.getData,u=r.getQuestionAnswered;return{status:o("status"),questions:o("question"),answered:u(n),questionsRendered:o("questionsRendered"),editPermalink:o("editPermalink"),numPages:o("numPages")}})),Object(c.withDispatch)((function(e){var t=e("learnpress/quiz"),n=t.updateUserQuestionAnswers;return{markQuestionRendered:t.markQuestionRendered,updateUserQuestionAnswers:n}}))])(De);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=lodash,Ke=(Be.isNumber,Be.chunk,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(u,e);var t,n,r,o=Me(u);function u(e){var t;return xe(this,u),He(Le(t=o.apply(this,arguments)),"startQuiz",(function(e){e.preventDefault(),(0,t.props.startQuiz)()})),He(Le(t),"isInVisibleRange",(function(e,n){var r=t.props,o=r.currentPage,u=r.questionsPerPage;return o===Math.ceil(n/u)})),He(Le(t),"nav",(function(e){var n=t.props.sendKey;switch(console.log(e.keyCode),e.keyCode){case 37:return n("left");case 38:return;case 39:return n("right");case 40:return;default:e.keyCode>=49&&e.keyCode<=57&&n(e.keyCode-48)}})),t.needToTop=!1,t.state={isReviewing:null,currentPage:0,self:Le(t)},t}return t=u,r=[{key:"getDerivedStateFromProps",value:function(e,t){for(var n=["isReviewing","currentPage"],r={},o=0;o<n.length;o++)e[n[o]]!==t[n[o]]&&(r[n[o]]=e[n[o]]);return Object.values(r).length?(t.self.needToTop=!0,r):null}}],(n=[{key:"componentDidUpdate",value:function(){this.needToTop&&(jQuery("#popup-content").animate({scrollTop:0}).find(".content-item-scrollable:last").animate({scrollTop:0}),this.needToTop=!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.status,r=t.currentQuestion,o=t.questions,u=t.questionsRendered,i=t.isReviewing,c=t.questionsPerPage,a=!0;return"completed"!==n||i||(a=!1),React.createElement(React.Fragment,null,React.createElement("div",{tabIndex:100,onKeyUp:this.nav},React.createElement("div",{className:"quiz-questions",style:{display:a?"":"none"}},o.map((function(t,n){var o=!c&&r===t.id,i=u&&-1!==u.indexOf(t.id),a=e.isInVisibleRange(t.id,n+1);return i||!i||a?React.createElement(Ce,{isCurrent:o,key:"loop-question-".concat(t.id),isShow:a,isShowIndex:!!c&&n+1,questionsPerPage:c,question:t}):""})))))}}])&&Ne(t.prototype,n),r&&Ne(t,r),u}(u.Component)),Ge=Object(i.compose)(Object(c.withSelect)((function(e,t,n){var r=e("learnpress/quiz"),o=r.getData,u=r.getQuestions;return{status:o("status"),currentQuestion:o("currentQuestion"),questions:u(),questionsRendered:o("questionsRendered"),isReviewing:"reviewing"===o("mode"),numPages:o("numPages"),currentPage:o("currentPage"),questionsPerPage:o("questionsPerPage")||1}})),Object(c.withDispatch)((function(e){var t=e("learnpress/quiz");return{startQuiz:t.startQuiz,sendKey:t.sendKey}})))(Ke);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}lodash.uniqueId;var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(u,e);var t,n,r,o=Ye(u);function u(){return Ze(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"getDurationLabel",value:function(e){if(!e.expirationTime)return Object(_.__)("Unlimited","learnpress");var t=LP.singleCourse.formatDuration,n=new Date(e.expirationTime).getTime()-new Date(e.startTime).getTime();return n?t(n/1e3):""}},{key:"getTimeSpendLabel",value:function(e){var t=LP.singleCourse.formatDuration,n=new Date(e.endTime).getTime()-new Date(e.startTime).getTime();return n?t(n/1e3):""}},{key:"render",value:function(){var e=this,t=this.props.attempts,n=t&&!!t.length;return!!n&&React.createElement(React.Fragment,null,React.createElement("div",{className:"quiz-attempts"},React.createElement("h4",{className:"attempts-heading"},Object(_.__)("Last Attempted","learnpress")),n&&React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,Object(_.__)("Date","learnpress")),React.createElement("th",null,Object(_.__)("Questions","learnpress")),React.createElement("th",null,Object(_.__)("Spend","learnpress")),React.createElement("th",null,Object(_.__)("Marks","learnpress")),React.createElement("th",null,Object(_.__)("Passing Grade","learnpress")),React.createElement("th",null,Object(_.__)("Result","learnpress")))),React.createElement("tbody",null,t.map((function(t){return React.createElement("tr",{key:"attempt-".concat(t.id)},React.createElement("td",null,t.startTime),React.createElement("td",null,t.questionCorrect," / ",t.questionCount),React.createElement("td",null,e.getTimeSpendLabel(t)," / ",e.getDurationLabel(t)),React.createElement("td",null,t.userMark," / ",t.mark),React.createElement("td",null,t.passingGrade||Object(_._x)("-","unknown passing grade value","learnpress")),React.createElement("td",null,parseFloat(t.result).toFixed(2),"% ",React.createElement("label",null,t.graduationText)))}))))))}}])&&We(t.prototype,n),r&&We(t,r),u}(u.Component),tt=Object(i.compose)([Object(c.withSelect)((function(e){var t=e("learnpress/quiz").getData,n=t("attempts")||[];return{id:t("id"),attempts:n,attemptsCount:t("attemptsCount"),status:t("status"),questionIds:t("questionIds"),questionNav:t("questionNav"),currentQuestion:t("currentQuestion")}})),Object(c.withDispatch)((function(e,t){var n=t.id,r=e("learnpress/quiz"),o=r.startQuiz,u=r.setCurrentQuestion,i=r.submitQuiz;return{startQuiz:o,setCurrentQuestion:u,submitQuiz:function(){i(n)}}}))])(et);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?at(e):t}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}React.useState;var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(u,e);var t,n,r,o=it(u);function u(e){var t;return rt(this,u),lt(at(t=o.apply(this,arguments)),"init",(function(e){var n=e.endTime,r=e.totalTime,o=new Date(n),u=new Date,i=(new Date).getTimezoneOffset(),c=parseInt(o.getTime()/1e3-(u.getTime()/1e3+60*i));t.state={seconds:c,totalTime:r,remainingSeconds:c>0?c:0,currentTime:parseInt((new Date).getTime()/1e3),percent:100}})),lt(at(t),"submit",(function(){(0,t.props.submitQuiz)()})),lt(at(t),"formatTime",(function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":",r=t.state,o=r.remainingSeconds,u=r.totalTime,i=[];return u<3600?(i.push((o-o%60)/60),i.push(o%60)):u&&(i.push((o-o%3600)/3600),e=o%3600,i.push((e-e%60)/60),i.push(e%60)),i.map((function(e){return e<10?"0".concat(e):e})).join(n)})),lt(at(t),"getCircle",(function(){var e=t.state.percent,n=36*Math.PI,r=n-e/100*n,o={strokeDasharray:"".concat(n," ").concat(n),strokeDashoffset:r},u=["clock"];return e<=5&&u.push("x"),React.createElement("div",{className:u.join(" ")},React.createElement("svg",{className:"circle-progress-bar",width:40,height:40},React.createElement("circle",{className:"circle-progress-bar__circle",strokeWidth:4,style:o,fill:"transparent",r:18,cx:20,cy:20})))})),t.init(e),t}return t=u,(n=[{key:"componentDidMount",value:function(){var e=this;this.myInterval=setInterval((function(){var t=e.state,n=(t.seconds,t.currentTime,t.totalTime),r=e.state.remainingSeconds;(r-=1)>0&&e.setState((function(e){return e.seconds,{remainingSeconds:r,percent:r/n*100}})),r<=0&&(clearInterval(e.myInterval),e.submit())}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval)}},{key:"render",value:function(){return this.props.content,React.createElement("div",{className:"countdown"},React.createElement("i",{className:"fas fa-stopwatch"}),React.createElement("span",null,this.formatTime()))}}])&&ot(t.prototype,n),r&&ot(t,r),u}(u.Component),pt=Object(i.compose)([Object(c.withSelect)((function(e){var t=e("learnpress/quiz").getData;return{submitting:t("submitting"),totalTime:t("totalTime")?t("totalTime"):t("duration"),endTime:t("endTime")}})),Object(c.withDispatch)((function(e){var t=e("learnpress/quiz");return{setQuizData:t.setQuizData,submitQuiz:t.submitQuiz}}))])(ft);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gt(this,n)}}function gt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rt=lodash,jt=(Rt.get,Rt.debounce),_t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(u,e);var t,n,r,o=ht(u);function u(){var e;return yt(this,u),wt(vt(e=o.apply(this,arguments)),"getResultMessage",(function(e){return Object(_.sprintf)(Object(_.__)("Your grade is <strong>%s</strong>","learnpress"),e.graduationText)})),wt(vt(e),"getResultPercentage",(function(e){return 100===e.result?e.result:parseFloat(e.result).toFixed(2)})),e.state={percentage:0,done:!1},e}return t=u,(n=[{key:"componentDidMount",value:function(){this.animate()}},{key:"componentDidUpdate",value:function(e){var t=this.props.results;e.results.result!==t.result&&this.animate()}},{key:"animate",value:function(){var e=this,t=this.props.results;this.setState({percentage:0,done:!1}),jQuery.easing._customEasing=function(e,t,n,r,o){return r*Math.sqrt(1-(t=t/o-1)*t)+n},jt((function(){var n=jQuery("<span />").css({width:1,height:1}).appendTo(document.body);n.css("left",0).animate({left:t.result},{duration:1500,step:function(t,n){e.setState({percentage:t})},done:function(){e.setState({done:!0}),n.remove(),jQuery("#quizResultGrade").css({transform:"scale(1.3)",transition:"all 0.25s"}),jt((function(){jQuery("#quizResultGrade").css({transform:"scale(1)"})}),500)()},easing:"_customEasing"})}),t.result>0?1e3:10)()}},{key:"render",value:function(){var e=this.props,t=e.results,n=e.passingGrade,r=this.state,o=r.percentage,u=r.done;o<100&&(o=parseFloat(o).toFixed(2));var i=["quiz-result",t.graduation],c=(this.getResultPercentage(t),190*Math.PI),a=c-o/100*c,s={strokeDasharray:"".concat(c," ").concat(c),strokeDashoffset:a},l=t.passingGrade||n;return React.createElement("div",{className:i.join(" ")},React.createElement("h3",{className:"result-heading"},Object(_.__)("Your Result","learnpress")),React.createElement("div",{id:"quizResultGrade",className:"result-grade"},React.createElement("svg",{className:"circle-progress-bar",width:200,height:200},React.createElement("circle",{className:"circle-progress-bar__circle",stroke:"",strokeWidth:10,style:s,fill:"transparent",r:95,cx:100,cy:100})),React.createElement("span",{className:"result-achieved"},o,"%"),React.createElement("span",{className:"result-require"},l||Object(_._x)("-","unknown passing grade value","learnpress"))),u&&React.createElement("p",{className:"result-message"},t.graduationText),React.createElement("ul",{className:"result-statistic"},React.createElement("li",{className:"result-statistic-field result-time-spend"},React.createElement("label",null,Object(_.__)("Time spend","learnpress")),React.createElement("p",null,t.timeSpend)),React.createElement("li",{className:"result-statistic-field result-point"},React.createElement("label",null,Object(_.__)("Point","learnpress")),React.createElement("p",null,t.userMark," / ",t.mark)),React.createElement("li",{className:"result-statistic-field result-questions"},React.createElement("label",null,Object(_.__)("Questions","learnpress")),React.createElement("p",null,t.questionCount)),React.createElement("li",{className:"result-statistic-field result-questions-correct"},React.createElement("label",null,Object(_.__)("Correct","learnpress")),React.createElement("p",null,t.questionCorrect)),React.createElement("li",{className:"result-statistic-field result-questions-wrong"},React.createElement("label",null,Object(_.__)("Wrong","learnpress")),React.createElement("p",null,t.questionWrong)),React.createElement("li",{className:"result-statistic-field result-questions-skipped"},React.createElement("label",null,Object(_.__)("Skipped","learnpress")),React.createElement("p",null,t.questionEmpty))))}}])&&bt(t.prototype,n),r&&bt(t,r),u}(u.Component),Pt=Object(i.compose)([Object(c.withSelect)((function(e){var t=e("learnpress/quiz").getData;return{results:t("results"),passingGrade:t("passingGrade")}})),Object(c.withDispatch)((function(e){var t=e("learnpress/quiz");return{setQuizData:t.setQuizData,startQuiz:t.startQuiz}}))])(_t);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);if(t){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zt(this,n)}}function zt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?Tt(e):t}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var It=jQuery,xt=lodash.debounce,Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(u,e);var t,n,r,o=Qt(u);function u(){var e;return Et(this,u),Ct(Tt(e=o.apply(this,arguments)),"submit",(function(){var t=Object(c.select)("learnpress/modal").confirm;Object(c.select)("learnpress/quiz").getData("title");"no"!==t(Object(_.__)("Are you sure to submit quiz?","learnpress"),e.submit)&&(0,e.props.submitQuiz)()})),Ct(Tt(e),"getMark",(function(){var e=Object(c.select)("learnpress/quiz").getData("answered");return Object.values(e).reduce((function(e,t){return e+t.mark}),0)})),e.state={submitting:!1},e}return t=u,(n=[{key:"componentDidMount",value:function(){var e=It("#popup-content"),t=e.find(".content-item-scrollable:eq(1)"),n=e.find(".content-item-wrap"),r=e.find(".quiz-status"),o=r.offset().top-92,u=!1,i="-"+n.css("margin-left");It(window).on("resize.refresh-quiz-stauts-bar",xt((function(){i="-"+n.css("margin-left"),r.css({"margin-left":i,"margin-right":i})}),100)).trigger("resize.refresh-quiz-stauts-bar"),t.scroll((function(){if(t.scrollTop()>=o){if(u)return;u=!0}else{if(!u)return;u=!1}u?e.addClass("fixed-quiz-status"):e.removeClass("fixed-quiz-status")}))}},{key:"render",value:function(){var e,t=this.props,n=t.currentPage,r=t.questionsPerPage,o=t.questionsCount,u=t.submitting,i=t.totalTime,c=t.duration,a=t.userMark,s=["quiz-status"],l=(n-1)*r+1,f=l+r-1;return f=Math.min(f,o),u&&s.push("submitting"),e=f<o?r>1?Object(_.sprintf)(Object(_.__)("Question <span>%d to %d of %d</span>","learnpress"),l,f,o):Object(_.sprintf)(Object(_.__)("Question <span>%d of %d</span>","learnpress"),l,o):Object(_.sprintf)(Object(_.__)("Question <span>%d to %d</span>","learnpress"),l,f),React.createElement("div",{className:s.join(" ")},React.createElement("div",null,React.createElement("div",{className:"questions-index",dangerouslySetInnerHTML:{__html:e}}),React.createElement("div",{className:"current-point"},Object(_.sprintf)(Object(_.__)("Earned Point: %s","learnpress"),a)),React.createElement("div",null,React.createElement("div",{className:"submit-quiz"},React.createElement("button",{className:"lp-button",id:"button-submit-quiz",onClick:this.submit},u?Object(_.__)("Submitting...","learnpress"):Object(_.__)("Submit","learnpress"))),i&&c&&React.createElement(pt,null))))}}])&&qt(t.prototype,n),r&&qt(t,r),u}(u.Component),At=Object(i.compose)([Object(c.withSelect)((function(e){var t=e("learnpress/quiz"),n=t.getData,r=t.getUserMark;return{currentPage:n("currentPage"),numPages:n("numPages"),questionsPerPage:n("questionsPerPage"),questionsCount:n("questionIds").length,submitting:n("submitting"),totalTime:n("totalTime"),duration:n("duration"),userMark:r()}})),Object(c.withDispatch)((function(e){return{submitQuiz:e("learnpress/quiz").submitQuiz}}))])(Nt);function Mt(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=lodash,Kt=(Bt.omit,Bt.flow),Gt=Bt.isArray,Jt=Bt.chunk,Zt=(LP.camelCaseDashObjectKeys,LP.localStorage),Wt=Zt.get,$t=Zt.set,Yt={},Vt=function(e,t){var n=Ft(Ft({},e.answered[t.questionId]||{}),{},{answered:t.answers,temp:!0});return Ft(Ft({},e),{},{answered:Ft(Ft({},e.answered),{},Ht({},t.questionId,n))})},Xt=function(e,t){var n=e.questionsRendered;return Gt(n)?(n.push(t.questionId),Ft(Ft({},e),{},{questionsRendered:Mt(n)})):Ft(Ft({},e),{},{questionsRendered:[t.questionId]})},en=function(e,t){return t.currentPage&&$t("Q".concat(e.id,".currentPage"),t.currentPage),Ft(Ft({},e),t)},tn=function(e,t){var n=e.findIndex((function(e){return e.id==t.id}));return-1!==n?e[n]=t:e.unshift(t),e},nn=function(e,t){var n=e.questions.map((function(e){return e.id==t.questionId?Ft(Ft({},e),{},{showHint:t.showHint}):e}));return Ft(Ft({},e),{},{questions:Mt(n)})},rn=function(e,t){var n=e.questions.map((function(e){if(e.id!==t.questionId)return e;var n={explanation:t.explanation};return t.options&&(n.options=t.options),Ft(Ft({},e),n)}));return Ft(Ft({},e),{},{questions:Mt(n),answered:Ft(Ft({},e.answered),{},Ht({},t.questionId,t.result)),checkedQuestions:[].concat(Mt(e.checkedQuestions),[t.questionId])})},on=Kt(c.combineReducers,(function(e){return function(t,n){return e(t,n)}}),(function(e){return function(t,n){return e(t,n)}}),(function(e){return function(t,n){return e(t,n)}}))({a:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{a:1};return e},b:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{b:2};return e}}),un=Object(c.combineReducers)({blocks:on,userQuiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUIZ_DATA":1>t.data.questionsPerPage&&(t.data.questionsPerPage=1);var n=Jt(e.questionIds||t.data.questionIds,t.data.questionsPerPage);return t.data.numPages=n.length,t.data.pages=n,Ft(Ft(Ft({},e),t.data),{},{currentPage:Wt("Q".concat(t.data.id,".currentPage"))||t.data.currentPage});case"SUBMIT_QUIZ":return Ft(Ft({},e),{},{submitting:!0});case"START_QUIZ":case"START_QUIZ_SUCCESS":return en(e,Ft({checkedQuestions:[],hintedQuestions:[],mode:"",currentPage:1},t.results));case"SET_CURRENT_QUESTION":return $t("Q".concat(e.id,".currentQuestion"),t.questionId),Ft(Ft({},e),{},{currentQuestion:t.questionId});case"SET_CURRENT_PAGE":return $t("Q".concat(e.id,".currentPage"),t.currentPage),Ft(Ft({},e),{},{currentPage:t.currentPage});case"SUBMIT_QUIZ_SUCCESS":return en(e,Ft({attempts:tn(e.attempts,t.results),submitting:!1,currentPage:1},t.results));case"UPDATE_USER_QUESTION_ANSWERS":return"started"===e.status?Vt(e,t):e;case"MARK_QUESTION_RENDERED":return Xt(e,t);case"SET_QUIZ_MODE":return"reviewing"==t.mode?en(e,{mode:t.mode}):Ft(Ft({},e),{},{mode:t.mode});case"SET_QUESTION_HINT":return nn(e,t);case"CHECK_ANSWER":return rn(e,t);case"SEND_KEY":return Ft(Ft({},e),{},{keyPressed:t.keyPressed})}return e}}),cn=n(4);function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var sn=regeneratorRuntime.mark(En),ln=regeneratorRuntime.mark(Qn),fn=regeneratorRuntime.mark(Tn);function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e){return function(e){if(Array.isArray(e))return yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bn(){var e=[].slice.call(arguments,2),t=Object(c.dispatch)(arguments[0]),n=arguments[1];t[n].apply(t,mn(e))}var dn=LP,hn=dn.camelCaseDashObjectKeys,gn=dn.Hook;function vn(e,t){return t="string"==typeof e?pn({},e,t):e,{type:"SET_QUIZ_DATA",data:hn(t)}}function On(e){return{type:"SET_CURRENT_QUESTION",questionId:e}}function wn(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}function Rn(e,t,n){return{type:"BEFORE_START_QUIZ"}}function jn(e,t,n,r){return gn.doAction("quiz-started",e,t,n,r),{type:"START_QUIZ_SUCCESS",quizId:t,courseId:n,userId:r,results:e}}var _n=regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(c.select)("learnpress/quiz").getDefaultRestArgs(),n=t.itemId,r=t.courseId,!0===gn.applyFilters("before-start-quiz",!0,n,r)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(cn.apiFetch)({path:"lp/v1/users/start-quiz",method:"POST",data:{item_id:n,course_id:r}});case 6:return o=e.sent,o=gn.applyFilters("request-start-quiz-response",o,n,r),e.next=10,bn("learnpress/quiz","__requestStartQuizSuccess",hn(o.results),n,r);case 10:case"end":return e.stop()}}),e)}));function Pn(){return{type:"SUBMIT_QUIZ"}}function Sn(e,t,n){return gn.doAction("quiz-submitted",e,t,n),{type:"SUBMIT_QUIZ_SUCCESS",results:e}}function En(){var e,t,n,r,o,u,i,a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e=Object(c.select)("learnpress/quiz"),t=e.getDefaultRestArgs,n=e.getQuestionsSelectedAnswers,r=t(),o=r.itemId,u=r.courseId,!0===gn.applyFilters("before-submit-quiz",!0)){s.next=5;break}return s.abrupt("return");case 5:return i=n(),s.next=8,Object(cn.apiFetch)({path:"lp/v1/users/submit-quiz",method:"POST",data:{item_id:o,course_id:u,answered:i}});case 8:if(a=s.sent,!(a=gn.applyFilters("request-submit-quiz-response",a,o,u)).success){s.next=13;break}return s.next=13,bn("learnpress/quiz","__requestSubmitQuizSuccess",hn(a.results),o,u);case 13:case"end":return s.stop()}}),sn)}function qn(e,t,n){return{type:"UPDATE_USER_QUESTION_ANSWERS",questionId:e,answers:t}}function kn(e,t){return{type:"SET_QUESTION_HINT",questionId:e,showHint:t}}function Qn(e,t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bn("learnpress/quiz","__requestShowHintSuccess",e,t);case 2:case"end":return n.stop()}}),ln)}function zn(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"CHECK_ANSWER",questionId:e},t)}function Tn(e){var t,n,r,o,u,i,a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=Object(c.select)("learnpress/quiz"),n=t.getDefaultRestArgs,r=t.getQuestionAnswered,o=n(),u=o.itemId,i=o.courseId,s.next=4,Object(cn.apiFetch)({path:"lp/v1/users/check-answer",method:"POST",data:{item_id:u,course_id:i,question_id:e,answered:r(e)||""}});case 4:return a=s.sent,s.next=7,bn("learnpress/quiz","__requestCheckAnswerSuccess",e,hn(a));case 7:case"end":return s.stop()}}),fn)}function Dn(e){return{type:"MARK_QUESTION_RENDERED",questionId:e}}function Cn(e){return{type:"SET_QUIZ_MODE",mode:e}}function In(e){return setTimeout((function(){bn("learnpress/quiz","sendKey","")}),300),{type:"SEND_KEY",keyPressed:e}}var xn=lodash,Nn=xn.get,An=xn.isArray,Mn=function(e,t){console.time("parseOptions");var n=Wn(e,t).options;return n=An(n)?n:JSON.parse(CryptoJS.AES.decrypt(n.data,n.key,{format:CryptoJSAesJson}).toString(CryptoJS.enc.Utf8)),n=An(n)?n:JSON.parse(n),console.timeEnd("parseOptions"),n};function Un(e,t){var n=Object(c.select)("course-learner/user").getItemById(t);return n?Nn(n,"userSettings.status"):""}function Ln(e,t,n){return e[t]||n}function Fn(e,t){var n=Object(c.select)("course-learner/user").getItemById(t);return n?Nn(n,"userSettings.attempts"):[]}function Hn(e,t){var n=Object(c.select)("course-learner/user").getItemById(t);return n?Nn(n,"userSettings.answered",{}):{}}function Bn(e){var t=e.userQuiz,n=Nn(t,"questions");return n?Object.values(n):[]}function Kn(e,t){var n=e.userQuiz;return t?Nn(n,t):n}function Gn(e){var t=e.userQuiz;return{itemId:t.id,courseId:t.courseId}}function Jn(e,t){var n=e.userQuiz;return Nn(n,"answered.".concat(t,".answered"))||void 0}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Nn(e,"userQuiz.questionsPerPage")||1;if(n>1)return!1;var r=Nn(e,"userQuiz.currentPage")||1;return Nn(e,"object"===t?"userQuiz.questions[".concat(r-1,"]"):"userQuiz.questionIds[".concat(r-1,"]"))}var Wn=function(e,t){e.userQuiz;return Object(c.select)("learnpress/quiz").getQuestions().find((function(e){return e.id==t}))};function $n(e,t){return-1!==(Nn(e,"userQuiz.checkedQuestions")||[]).indexOf(t)}function Yn(e,t){}var Vn=function(e,t){var n=Nn(e,"userQuiz.answered"),r={};for(var o in n)if(n.hasOwnProperty(o)&&n[o].temp){if(t&&o===t)return n[o].answered;r[o]=n[o].answered}return r};function Xn(e){var t=e.userQuiz||{},n=t.answered,r=t.negativeMarking,o=t.questions,u=t.checkedQuestions,i=0,c=function(e){if(!n.hasOwnProperty(e))return a=e,"continue";e=parseInt(e);var t,c=n[e],s=c.questionMark?c.questionMark:(t=o.find((function(t){return a=e,t.id===e})),a=e,t?t.point:0);u.indexOf(e);if(c.temp)return a=e,"continue";r?c.answered&&(i=c.correct?i+c.mark:i-s):c.answered&&c.correct&&(i+=c.mark),a=e};for(var a in n)c(a);return i>0?i:0}var er=n(5),tr=n.n(er),nr={ENROLL_COURSE_X:function(e,t){}};var rr=function(e){var t=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},n={getState:e.getState,dispatch:function(){return t.apply(void 0,arguments)}};return t=tr()(nr)(n)(e.dispatch),e.dispatch=t,e};function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ir=LP.dataControls.controls,cr=Object(c.registerStore)("learnpress/quiz",{reducer:un,selectors:o,actions:r,controls:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ir)});rr(cr);function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=br(e);if(t){var o=br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mr(this,n)}}function mr(e,t){return!t||"object"!==ar(t)&&"function"!=typeof t?yr(e):t}function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=lodash,gr=hr.chunk,vr=(hr.isNumber,jQuery,React.createContext({status:-1})),Or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(u,e);var t,n,r,o=pr(u);function u(e){var t;return sr(this,u),dr(yr(t=o.apply(this,arguments)),"startQuiz",(function(e){t.props.startQuiz()})),t.state={currentPage:1,numPages:0,pages:[]},t}return t=u,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.settings,n=e.setQuizData,r=t.question_ids,o=t.questions_per_page,u=gr(r,o);t.currentPage=1,t.numPages=u.length,t.pages=u,n(t)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.isReviewing,r=-1!==["","completed","viewed"].indexOf(t)||!t,o=-1!==["","viewed",void 0].indexOf(t)||!t;return void 0!==t&&React.createElement(React.Fragment,null,React.createElement(vr.Provider,{value:this.props}),React.createElement("div",null,!n&&"completed"===t&&React.createElement(Pt,null),!n&&o&&React.createElement(C,null),!n&&o&&React.createElement(j,null),"started"===t&&React.createElement(At,null),(-1!==["completed","started"].indexOf(t)||n)&&React.createElement(Ge,null),React.createElement(he,null),r&&!n&&React.createElement(tt,null)))}}])&&lr(t.prototype,n),r&&lr(t,r),u}(u.Component),wr=Object(i.compose)([Object(c.withSelect)((function(e){var t=e("learnpress/quiz"),n=t.getQuestions,r=t.getData;return{questions:n(),status:r("status"),store:r(),answered:r("answered"),isReviewing:"reviewing"===r("mode"),questionIds:r("questionIds"),checkCount:r("instantCheck"),questionsPerPage:r("questionsPerPage")||1}})),Object(c.withDispatch)((function(e){var t=e("learnpress/quiz");return{setQuizData:t.setQuizData,startQuiz:t.startQuiz}}))])(Or),Rr=LP.modal.default,jr=(t.default=wr,function(e,t){wp.element.render(React.createElement(Rr,null,React.createElement(wr,{settings:t})),jQuery(e)[0])})}]);