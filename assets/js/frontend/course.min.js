!function(t){"use strict";function e(t){const e=window.localStorage;this.key=t,this.get=function(t){const n=(e.getItem(this.key)||"").split(",");if(t){t+="";const e=n.indexOf(t);if(e>=0)return n[e]}return n},this.set=function(t){return"string"!=typeof t&&(t=t.join(",")),e.setItem(this.key,t),t.split(",")},this.hasSection=function(t){t+="";const e=this.get().indexOf(t);return e>=0&&e},this.add=function(t){t+="";const e=this.get();if(!this.hasSection(t))return e.push(t),this.set(e),e},this.remove=function(t){t+="";const e=this.hasSection(t);if(!1!==e){const t=this.get();return t.splice(e,1),this.set(t),t}return!1}}function n(n){const o=t(".lp-overlay");t("form[name=learn-press-form-complete-lesson]");let i,s,c=new e("sections"),l=t("body"),r=t(".content-item-scrollable"),a=t("#learn-press-course-curriculum"),u=t("#learn-press-content-item"),d=a.find(".curriculum-scrollable"),f=t("#course-item-content-header"),h=t("#course-item-content-footer"),m=a.find(".course-item"),p=!0,g=0,w=!1;function y(e){let n,o=t(e.target);o.is("input.option-check")||(n=o.closest(".answer-option").find("input.option-check"),n.length&&(n.is(":disabled")||(n.is(":checkbox")?n[0].checked=!n[0].checked:n[0].checked=!0)))}function b(){const e=t(this).closest(".section").data("section-id");t(this).siblings(".section-content").slideToggle((function(){t(this).is(":visible")?c.remove(e):c.add(e)}))}function v(e,n){if(t(document.body).hasClass("course-item-popup"))return;const o=t(n);0!==o.closest(".course-nav").siblings().length&&LP.setUrl(o.attr("href"))}function k(e){if("keypress"===e.type&&13===e.keyCode)return!1;const n=this.value,o=new RegExp(n,"ig");m.map((function(){const e=t(this);e.find(".item-name").text().match(o)||!n.length?e.show():e.hide()})),t(".section").show().each((function(){n.length?t(this).find(".section-content").children(":visible").length?t(this).show():t(this).hide():t(this).show()})),t(this).closest(".course-item-search").toggleClass("has-keyword",!!this.value.length)}function C(e){t(this).closest(".course-item-search").find("input").val("").trigger("keyup")}function M(){t("#qm").css({"z-index":999999999,position:"relative"}),t("html, body").css("overflow","auto")}function T(){return a.outerWidth()}function x(t){}function O(e){t(document)[e?"off":"on"]("mousemove.maybe-show-curriculum","body",x)}function S(){s&&clearTimeout(s),s=setTimeout((function(){const e=T();i&&(a.stop().animate({left:-e}),u.stop().animate({left:0}),h.stop().animate({left:0},(function(){t(document,window).trigger("learn-press/toggle-content-item")})),f.find(".course-item-search").hide(),p=!1,O())}),3e3)}function I(e){e.preventDefault();const n=T();let o="left";"rtl"===t("html").attr("dir")&&(o="right"),i=l.toggleClass("full-screen-content-item").hasClass("full-screen-content-item"),"right"===o?(a.stop().animate({right:i?-n:0}),u.stop().animate({right:i?0:n}),h.stop().animate({right:i?0:n},(function(){t(document,window).trigger("learn-press/toggle-content-item")}))):(a.stop().animate({left:i?-n:0}),u.stop().animate({left:i?0:n}),h.stop().animate({left:i?0:n},(function(){t(document,window).trigger("learn-press/toggle-content-item")}))),p=!i,window.localStorage&&window.localStorage.setItem("lp-full-screen",i?"yes":"no"),i&&O(),f.find(".course-title").stop().animate({marginLeft:i?-n:0}),f.find(".course-item-search").stop().animate({opacity:i?0:1})}function L(){t(document).on("learn-press/nav-tabs/clicked",v).on("keyup keypress",".course-item-search input",k).on("click",".course-item-search button",C).on("click","#wp-admin-bar-query-monitor",M).on("click",".answer-options .answer-option",y).on("click",".section-header",b).on("submit","form.lp-form",(function(){!function(e){const n=t(".answer-options"),o=t(e),i=n.serializeJSON(),s=t('<input type="hidden" name="question-data" />').val(JSON.stringify(i));if("post"===(o.attr("method")+"").toLowerCase())o.find('input[name="question-data"]').remove(),o.append(s).append(t("<div />").append(n.clone()).hide())}(this)})).on("click",".toggle-content-item",I),a.hover((function(){s&&clearTimeout(s)}),(function(){i&&S()}))}this.completeItemsCourse=function(){const e=this;t(document).on("click",".lp-btn-complete-item",(function(n){n.preventDefault();const i=t(this).closest("form");e.lpModalOverlay.setElCalledModal(i),e.lpModalOverlay.callBackYes=function(){i.submit()},o.show()}))},this.lpModalOverlay={elMessage:null,elTitle:null,callBackYes:null,elCalledModal:null,init(){const e=this;this.elMessage=o.find(".message"),this.elTitle=o.find(".modal-title"),t(document).on("click",".close, .btn-no",(function(){o.hide()})),t(document).on("click",".btn-yes",(function(){e.callBackYes()}))},setElCalledModal(t){this.elCalledModal=t,this.setContentModal()},setContentModal(){this.elTitle.text(this.elCalledModal.data("title")),this.elMessage.text(this.elCalledModal.data("confirm"))}},this.finishCourse=function(){const e=this,n=t(".form-button-finish-course");if(!n)return;n.find(".lp-btn-finish-course").on("click",(function(t){t.preventDefault(),e.lpModalOverlay.setElCalledModal(n),e.lpModalOverlay.callBackYes=function(){n.submit()},o.show()}))},function(){if(w=l.hasClass("course-item-popup"),function(){let e=t(".course-item.current").closest(".section"),n=t(".curriculum-sections").find(".section"),o=e.data("section-id"),i=[];i=e?c.remove(o):c.get();for(let t=0;t<i.length;t++)n.filter('[data-section-id="'+i[t]+'"]').find(".section-content").hide()}(),L(),w){if(u.appendTo(l),a.appendTo(l),t("#wpadminbar").length&&(l.addClass("wpadminbar"),g=32),r.addClass("scrollbar-light").scrollbar({scrollx:!1}),r.parent().css({position:"absolute",top:0,bottom:t("#course-item-content-footer:visible").outerHeight()||0,width:"100%"}).css("opacity",1).end().css("opacity",1),d.addClass("scrollbar-light").scrollbar({scrollx:!1}),d.parent().css({position:"absolute",top:0,bottom:0,width:"100%"}).css("opacity",1).end().css("opacity",1),function(){const e=t(".content-item-summary.content-item-video");if(!e.length)return;let n,o,i=e.find(".entry-video"),s=i.find("iframe"),c=s.attr("width"),l=s.attr("height"),r=1;function a(){const t=s.width();n=t*r,s.css({height:n,marginLeft:(i.width()-t)/2}),e.css({paddingTop:n})}if(!i.length)return!1;c&&l&&-1===c.indexOf("%")&&-1===l.indexOf("%")&&(r=l/c),t(window).on("resize.fit-content-video learn-press/toggle-content-item",(function(){o&&clearTimeout(o),o=setTimeout(a,250)})).trigger("resize.fit-content-video"),t(".content-item-scrollable").scroll((function(){t(this).find(".entry-video").css("padding-top",this.scrollTop)}))}(),i=window.localStorage&&"yes"===window.localStorage.getItem("lp-full-screen"),t(window).width()<=768&&(i=!0),i){const t=T();l.addClass("full-screen-content-item"),u.css("left",0),a.css("left",-t),h.css("left",0),p=!i,f.find(".course-title").css({marginLeft:i?-t:0}),f.find(".course-item-search").css({opacity:i?0:1}),O()}setTimeout((function(){const e=l.find(".curriculum-sections").parent();e.scrollTo(e.find(".course-item.current"),100),window.location.hash&&t(".content-item-scrollable:last").scrollTo(t(window.location.hash))}),300),l.css("opacity",1)}}()}t((function(){const e=new n({});e.lpModalOverlay.init(),e.completeItemsCourse(),e.finishCourse(),t(this).on("submit",'form[name="course-external-link"]',(function(){const e=t(this).attr("action");if(e)return window.location.href=e,!1}));const o=t(".course-item-is-blocked"),i=o.val();o.length&&i<2147483647&&setTimeout((function(){window.location.reload(!0)}),i)}))}(jQuery);